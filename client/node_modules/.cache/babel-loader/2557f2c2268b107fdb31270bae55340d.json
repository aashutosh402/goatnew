{"ast":null,"code":"import _regeneratorRuntime from\"D:/authInMern/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/authInMern/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{CLEAR_ERRORS,LOGIN_FAIL,LOGIN_REQUEST,LOGIN_SUCCESS,REGISTER_USER_FAIL,REGISTER_USER_REQUEST,REGISTER_USER_SUCCESS}from'../constants/userConstants';export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(email,password);_context.prev=1;dispatch({type:LOGIN_REQUEST});config={headers:{\"Content-Type\":\"Appliction/json\"}};_context.next=6;return axios.post(\"/api/auth/login\",{email:email,password:password});case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:LOGIN_SUCCESS,payload:data.user});console.log(data);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);dispatch({type:LOGIN_FAIL,payload:_context.t0.response.data});console.log(_context.t0.response.data);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var register=function register(userData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:REGISTER_USER_REQUEST});config={headers:{\"Content-Type\":\"Application/json\"}};_context2.next=5;return axios.post(\"/api/auth/register\",userData,config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:REGISTER_USER_SUCCESS,payload:data.user});console.log(data);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:REGISTER_USER_FAIL,payload:_context2.t0.response.data});console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x3){return _ref2.apply(this,arguments);};}();};//clearing errors\nexport var clearErrors=function clearErrors(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CLEAR_ERRORS});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","CLEAR_ERRORS","LOGIN_FAIL","LOGIN_REQUEST","LOGIN_SUCCESS","REGISTER_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","login","email","password","dispatch","getState","console","log","type","config","headers","post","data","payload","user","response","register","userData","clearErrors"],"sources":["D:/authInMern/client/src/actions/userAction.js"],"sourcesContent":["import axios from 'axios'\r\nimport { CLEAR_ERRORS, LOGIN_FAIL, LOGIN_REQUEST, LOGIN_SUCCESS, REGISTER_USER_FAIL, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS } from '../constants/userConstants'\r\n\r\n\r\nexport const login = (email,password) =>async(dispatch,getState)=>{\r\n\r\n    console.log(email,password)\r\ntry{\r\n    dispatch({type:LOGIN_REQUEST})\r\n    const config = {headers:{\"Content-Type\":\"Appliction/json\"}}\r\n    const {data}  = await axios.post ( \r\n        `/api/auth/login`, \r\n        {email,password},\r\n        );\r\n\r\ndispatch({type:LOGIN_SUCCESS,payload:data.user})\r\nconsole.log(data)\r\n\r\n}catch(error){\r\n    dispatch({type:LOGIN_FAIL,payload:error.response.data})\r\n\r\n    console.log(error.response.data)\r\n    \r\n}\r\n\r\n}\r\n\r\nexport const register = (userData) =>async(dispatch)=>{\r\n\r\n    try{\r\n        \r\n        dispatch({type:REGISTER_USER_REQUEST});\r\n\r\n        const config = {headers:{\"Content-Type\":\"Application/json\"}}\r\n\r\n        const {data } = await axios.post(`/api/auth/register`,userData,config)\r\n\r\n        dispatch({type:REGISTER_USER_SUCCESS,payload:data.user})\r\n        console.log(data)\r\n\r\n    }catch(error){\r\n\r\n        dispatch({\r\n            type:REGISTER_USER_FAIL,\r\n            payload:error.response.data,\r\n        })\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n//clearing errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({ type: CLEAR_ERRORS});\r\n  };"],"mappings":"oOAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,UAAvB,CAAmCC,aAAnC,CAAkDC,aAAlD,CAAiEC,kBAAjE,CAAqFC,qBAArF,CAA4GC,qBAA5G,KAAyI,4BAAzI,CAGA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,CAACC,KAAD,CAAOC,QAAP,mGAAmB,iBAAMC,QAAN,CAAeC,QAAf,sJAEpCC,OAAO,CAACC,GAAR,CAAYL,KAAZ,CAAkBC,QAAlB,EAFoC,gBAIpCC,QAAQ,CAAC,CAACI,IAAI,CAACZ,aAAN,CAAD,CAAR,CACMa,MAL8B,CAKrB,CAACC,OAAO,CAAC,CAAC,eAAe,iBAAhB,CAAT,CALqB,uBAMdjB,MAAK,CAACkB,IAAN,mBAElB,CAACT,KAAK,CAALA,KAAD,CAAOC,QAAQ,CAARA,QAAP,CAFkB,CANc,wCAM7BS,IAN6B,mBAM7BA,IAN6B,CAWxCR,QAAQ,CAAC,CAACI,IAAI,CAACX,aAAN,CAAoBgB,OAAO,CAACD,IAAI,CAACE,IAAjC,CAAD,CAAR,CACAR,OAAO,CAACC,GAAR,CAAYK,IAAZ,EAZwC,iFAepCR,QAAQ,CAAC,CAACI,IAAI,CAACb,UAAN,CAAiBkB,OAAO,CAAC,YAAME,QAAN,CAAeH,IAAxC,CAAD,CAAR,CAEAN,OAAO,CAACC,GAAR,CAAY,YAAMQ,QAAN,CAAeH,IAA3B,EAjBoC,qEAAnB,oEAAd,CAuBP,MAAO,IAAMI,SAAQ,CAAG,QAAXA,SAAW,CAACC,QAAD,oGAAa,kBAAMb,QAAN,4KAI7BA,QAAQ,CAAC,CAACI,IAAI,CAACT,qBAAN,CAAD,CAAR,CAEMU,MANuB,CAMd,CAACC,OAAO,CAAC,CAAC,eAAe,kBAAhB,CAAT,CANc,wBAQPjB,MAAK,CAACkB,IAAN,sBAAgCM,QAAhC,CAAyCR,MAAzC,CARO,0CAQtBG,IARsB,oBAQtBA,IARsB,CAU7BR,QAAQ,CAAC,CAACI,IAAI,CAACR,qBAAN,CAA4Ba,OAAO,CAACD,IAAI,CAACE,IAAzC,CAAD,CAAR,CACAR,OAAO,CAACC,GAAR,CAAYK,IAAZ,EAX6B,qFAe7BR,QAAQ,CAAC,CACLI,IAAI,CAACV,kBADA,CAELe,OAAO,CAAC,aAAME,QAAN,CAAeH,IAFlB,CAAD,CAAR,CAIAN,OAAO,CAACC,GAAR,eAnB6B,uEAAb,kEAAjB,CAuBP;AACA,MAAO,IAAMW,YAAW,CAAG,QAAdA,YAAc,qGAAM,kBAAOd,QAAP,wHAC7BA,QAAQ,CAAC,CAAEI,IAAI,CAAEd,YAAR,CAAD,CAAR,CAD6B,wDAAN,kEAApB"},"metadata":{},"sourceType":"module"}